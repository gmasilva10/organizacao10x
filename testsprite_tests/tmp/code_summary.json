{
  "tech_stack": [
    "TypeScript",
    "Next.js 14 (App Router)",
    "React",
    "Tailwind CSS",
    "Radix UI",
    "Supabase (Postgres/Auth/Storage)",
    "Z-API (WhatsApp)"
  ],
  "features": [
    {
      "name": "Anamnese - Convite e Token Público",
      "description": "Gera convites com token, envia via WhatsApp e valida token público",
      "files": [
        "web/app/api/anamnese/invite/route.ts",
        "web/app/api/anamnese/invite/[token]/route.ts",
        "web/app/api/anamnese/submit/[token]/route.ts",
        "web/app/p/anamnese/[token]/page.tsx",
        "web/lib/anamnese/tokens.ts"
      ]
    },
    {
      "name": "Anamnese - Versões, Editor e PDF",
      "description": "Versionamento por aluno (seq/code), editor com autosave e geração de PDF (stub)",
      "files": [
        "web/app/api/anamnese/versions/[studentId]/route.ts",
        "web/app/api/anamnese/version/[versionId]/route.ts",
        "web/app/api/anamnese/version/[versionId]/send/route.ts",
        "web/app/api/anamnese/version/[versionId]/pdf/route.ts",
        "web/app/students/[id]/anamnese/page.tsx",
        "web/app/students/[id]/anamnese/[versionId]/page.tsx"
      ]
    },
    {
      "name": "Modal Gerar Anamnese",
      "description": "Modal com destino (Aluno/Grupo), seleção de grupos e serviço com tooltip; ações Gerar/Enviar",
      "files": [
        "web/components/students/modals/AnamneseInviteModal.tsx",
        "web/components/students/shared/StudentActions.tsx"
      ]
    },
    {
      "name": "Relacionamento - WhatsApp & Histórico",
      "description": "Vínculo de grupos WhatsApp com aluno, definir padrão e listar histórico de mensagens",
      "files": [
        "web/app/api/relacionamento/whatsapp/groups/route.ts",
        "web/app/api/relacionamento/whatsapp/groups/link/route.ts",
        "web/app/api/relacionamento/whatsapp/groups/unlink/route.ts",
        "web/app/api/relacionamento/whatsapp/groups/set-primary/route.ts",
        "web/app/api/relacionamento/messages/route.ts",
        "web/app/students/[id]/relacionamento/page.tsx"
      ]
    },
    {
      "name": "WhatsApp - Integração Z-API",
      "description": "Criação de contato e grupo, envio de templates e webhook (server-only)",
      "files": [
        "web/app/api/wa/create-contact/route.ts",
        "web/app/api/wa/create-group/route.ts",
        "web/app/api/wa/send-template/route.ts",
        "web/app/api/wa/webhook/route.ts",
        "web/app/api/wa/test-zapi/route.ts"
      ]
    }
  ]
}

{
  "tech_stack": [
    "TypeScript",
    "Next.js 14",
    "React",
    "Tailwind CSS",
    "Supabase",
    "PostgreSQL",
    "Radix UI",
    "shadcn/ui",
    "Zod",
    "Vitest"
  ],
  "features": [
    {
      "name": "Sistema de Autenticação",
      "description": "Sistema completo de login, registro e gestão de sessões com Supabase Auth",
      "files": [
        "web/components/LoginDrawer.tsx",
        "web/app/api/auth/sync/route.ts",
        "web/app/api/auth/signout/route.ts",
        "web/utils/supabase/server.ts",
        "web/utils/supabase/middleware.ts"
      ]
    },
    {
      "name": "Sistema de Alunos V2",
      "description": "CRUD completo de alunos com anexos, processos e responsáveis",
      "files": [
        "web/app/(app)/students/page.tsx",
        "web/app/(app)/students/[id]/edit/page.tsx",
        "web/components/students/StudentEditTabs.tsx",
        "web/components/students/StudentFullModal.tsx",
        "web/app/api/students/route.ts",
        "web/app/api/students/[id]/route.ts"
      ]
    },
    {
      "name": "Sistema de Diretrizes",
      "description": "Editor de diretrizes com regra 'mais restritivo vence' e preview",
      "files": [
        "web/app/(app)/services/anamnesis/page.tsx",
        "web/app/api/guidelines/versions/route.ts",
        "web/app/api/guidelines/versions/[id]/preview/route.ts",
        "web/components/guidelines/GuidelineEditor.tsx"
      ]
    },
    {
      "name": "Sistema Kanban/Onboarding",
      "description": "Kanban interativo com drag-and-drop, colunas dinâmicas e histórico",
      "files": [
        "web/app/(app)/onboarding/page.tsx",
        "web/app/(app)/onboarding/history/page.tsx",
        "web/app/app/kanban/page.tsx",
        "web/app/api/kanban/move/route.ts",
        "web/app/api/kanban/stages/route.ts",
        "web/app/api/kanban/history/route.ts",
        "web/components/KanbanCardEditor.tsx"
      ]
    },
    {
      "name": "Sistema de Relacionamento/CRM",
      "description": "CRM com threads, eventos, Kanban, templates de mensagem e motor de lembretes",
      "files": [
        "web/app/(app)/relacionamento/page.tsx",
        "web/app/(app)/relationship/page.tsx",
        "web/app/api/relationship/analytics/route.ts",
        "web/app/api/relationship/templates/route.ts",
        "web/components/relationship/RelationshipBoard.tsx"
      ]
    },
    {
      "name": "Sistema de Ocorrências",
      "description": "Gestão de ocorrências com anexos e workflow",
      "files": [
        "web/app/(app)/workflow/occurrences/page.tsx",
        "web/app/api/occurrences/route.ts",
        "web/app/api/occurrences/[id]/route.ts",
        "web/components/occurrences/OccurrenceForm.tsx"
      ]
    },
    {
      "name": "Sistema de Anamnese",
      "description": "Motor de decisão para anamnese baseado em planilha Excel",
      "files": [
        "web/app/(app)/services/anamnesis/page.tsx",
        "web/app/api/anamnesis/active/route.ts",
        "web/app/api/anamnesis/guidelines/route.ts",
        "Planilha/Anamnese_DECISAO.xlsx"
      ]
    },
    {
      "name": "Sistema de Upload de Fotos",
      "description": "Upload de fotos para Supabase Storage",
      "files": [
        "web/app/api/upload/photo/route.ts",
        "web/components/ui/PhotoUpload.tsx"
      ]
    },
    {
      "name": "Sistema de Validação",
      "description": "Validação de dados com Zod schemas",
      "files": [
        "web/lib/schemas/kanban.ts",
        "web/lib/schemas/students.ts",
        "web/lib/schemas/guidelines.ts"
      ]
    },
    {
      "name": "Sistema de Testes",
      "description": "Testes automatizados com Vitest e TestSprite",
      "files": [
        "web/vitest.config.ts",
        "testsprite_tests/",
        "web/__tests__/"
      ]
    }
  ]
}