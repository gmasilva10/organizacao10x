[ACC06] Telemetria: PASS â€” evid.: Estrutura/account/telemetry_samples.json

## GestÃ£o de OcorrÃªncias â€” UI v0.1 (2025-09-04)
- Filtros: perÃ­odo, grupo/tipo, status, prioridade, sensÃ­vel, lembrete (com/sem/janela), responsÃ¡vel (multi), busca â†’ PASS
- Tabela: Prioridade (chip), SensÃ­vel (Ã­cone), Lembrete (Ã­cone + data) â†’ PASS
- ID clicÃ¡vel abre modal Detalhes/Editar â†’ PASS
- Modal Detalhes/Editar: campos editÃ¡veis, anexos, RBAC, validaÃ§Ãµes â†’ PASS
- Modal Encerrar: campos resoluÃ§Ã£o, PATCH /close, RBAC â†’ PASS
- AÃ§Ãµes lembrete: concluir e alterar data funcionam â†’ PASS
- Chips premium com Ã­cone X para limpar â†’ PASS
- PaginaÃ§Ã£o mantÃ©m filtros â†’ PASS
- Estados loading/empty consistentes â†’ PASS

## GestÃ£o de OcorrÃªncias â€” UX Premium (2025-09-04)
- Drawer lateral: filtros movidos para painel lateral (padrÃ£o Onboarding/Kanban) â†’ PASS
- Header compacto: tÃ­tulo + contadores + botÃ£o Filtros â†’ PASS
- Resumo filtros: "Filtros ativos: N" + "Limpar tudo" â†’ PASS
- Responsividade: desktop drawer 420-480px, mobile sheet full-height â†’ PASS
- Hotkeys: Esc para fechar drawer â†’ PASS
- Zero regressÃ£o: consultas, aÃ§Ãµes â‹®, modais, lembretes, anexos, RBAC â†’ PASS

# Checklist de LiberaÃ§Ã£o para ValidaÃ§Ã£o (v1)

## Kanban â€” Fluxos crÃ­ticos
- First Run template visÃ­vel (colunas iniciais configuradas)
- Criar card em â€œNovo Alunoâ€
- Drag para coluna intermediÃ¡ria â†’ evento student.stage.moved registrado
- Drag para â€œEntrega do Treinoâ€ â†’ card some do board e aparece no HistÃ³rico
- RBAC: seller/support bloqueados no move (403 + rbac.denied)
- Contadores por coluna atualizam apÃ³s drops
- Busca rÃ¡pida por nome filtra cards renderizados
- Build/lint verdes; console limpo (janela anÃ´nima)

ValidaÃ§Ãµes executadas em 2025-08-19 10:20
- 200 OK: admin/manager/trainer conseguem mover cards.
- 403 denied: seller/support bloqueados; evento rbac.denied registrado.
- HistÃ³rico: cards concluÃ­dos aparecem em "HistÃ³rico" e somem do board.
- Amostras de eventos anexadas em Estrutura/kanban_events_sample.json.

Kanban â€” PersistÃªncia (Segundo Corte)
- GET /api/kanban/board retorna {columns,cards} do banco (Supabase).
- GET /api/kanban/board?trainerId=... filtra cards por trainer (server-first)
- POST /api/kanban/move atualiza column_id do card e emite telemetria.
- GET /api/kanban/tree retorna Ã¡rvore (organizaÃ§Ã£o â†’ trainers â†’ alunos) com contagens.
- RBAC na Ã¡rvore: admin/manager veem todos; trainer vÃª apenas seus cartÃµes.
- Menu recolhÃ­vel: estado em localStorage (pg.nav.collapsed), ARIA (aria-pressed), foco preservado.
- DnD com rollback: falha â†’ reverte UI + toast informativo.

PASS (Segundo Corte)
- Filtro por trainer via Ã¡rvore (UI â†’ API ?trainerId).
- DnD falha â†’ rollback + toast; telemetria somente em sucesso.
- HistÃ³rico default Ãºltimos 7 dias + paginaÃ§Ã£o; RBAC preservado.
- Build/lint verdes.

HistÃ³rico (MVP)
- /onboarding/history abre com Ãºltimos 7 dias.
- Filtro por perÃ­odo (from/to) e por trainerId.
- PaginaÃ§Ã£o (page/pageSize) com ordenaÃ§Ã£o por completed_at desc.

PASS â€” HistÃ³rico (2025-08-19 17:42)
- Carrega dados dos Ãºltimos 7 dias em ordem desc (completed_at)
- Filtros from/to/trainerId aplicados (server-first)
- RBAC: quando trainerId ausente e usuÃ¡rio for trainer, restringe a seus registros
- Falhas 4xx/5xx exibem feedback e nÃ£o disparam telemetria

Kanban â€” Terceiro Corte (parcial)
- CRUD de colunas persistente (restriÃ§Ãµes nas colunas fixas).
- Reorder estÃ¡vel (sort sequencial) apÃ³s DnD; refetch leve mantÃ©m contadores em sincronia.
PASS â€” CRUD/OrdenaÃ§Ã£o (2025-08-19 17:42)
- Colunas fixas nÃ£o podem ser renomeadas/removidas (client + server)
- Reorder mantÃ©m sort 10/20/30 e faz rollback em erro

PASS â€” Terceiro Corte consolidado em 2025-08-19 18:04

ValidaÃ§Ãµes adicionais (pÃ³s-realinhamento 2025-08-19 19:51)
- DnD funcional (Draggable+Droppable), highlight claro e rollback em erro
- HistÃ³rico acessÃ­vel pela sidebar e com aÃ§Ã£o de voltar; filtros/paginaÃ§Ã£o/estados refinados
- Colunas fixas bloqueadas; intermediÃ¡rias com CRUD liberado; reorder estÃ¡vel 10/20/30
- Layout sem barras de scroll indesejadas; toggle de sidebar persistente

PASS â€” E2E 2025-08-19 20:05

PrÃ³xima execuÃ§Ã£o de QA (22/08)
- Referenciar IDs de erros VAL01..VAL06 em cada item validado (DnD, HistÃ³rico, Colunas, Sidebar, UX, Telemetria).
- Marcar explicitamente PASS/FAIL por ID (ex.: VAL01 PASS, VAL02 FAIL, ...), anexando evidÃªncias.

[VAL01] DnD â€” FAIL (20/08). Status: EM CORREÃ‡ÃƒO â€” Fix aplicado: validar res.ok; rollback !=2xx; reorder somente apÃ³s 204. EvidÃªncia: web/app/(app)/kanban/page.tsx. PrÃ³ximo: revalidar 22/08.
[VAL02] HistÃ³rico â€” FAIL (20/08). Status: EM CORREÃ‡ÃƒO â€” Fix aplicado: garantir items[]; consumir shape padronizado. EvidÃªncia: web/app/(app)/onboarding/history/page.tsx. PrÃ³ximo: revalidar 22/08.
[VAL03] Colunas â€” PASS â€” evidÃªncias: Estrutura/val03/*
[VAL04] Sidebar/Ãrvore â€” EM ANDAMENTO â€” Seeds/fixtures criados; Ã¡rvore `{ root, nodes }` conta apenas nÃ£o concluÃ­dos; evento `pg:kanban:refetchTree` integrado apÃ³s DnD/CRUD; filtro por trainer aplicado. Evid.: Estrutura/val04/*
[VAL05] Layout/UX â€” FAIL (20/08). Status: EM CORREÃ‡ÃƒO â€” Fix aplicado: remoÃ§Ã£o do CTA duplicado; persistÃªncia â€œRecolherâ€. PrÃ³ximo: revalidar 22/08.
[VAL06] Telemetria â€” BLOCKED (20/08). Status: AGUARDANDO BASE ESTÃVEL â€” PrÃ³ximo: validar 204 + eventos (student.stage.moved; CRUD colunas com columns_version) apÃ³s VAL01â€“VAL05 PASS.

- Jornada ponta-a-ponta validada (Login â†’ Onboarding â†’ DnD/CRUD/Reorder â†’ HistÃ³rico â†’ Voltar â†’ Sidebar)
- Telemetria: student.stage.moved com columns_version; eventos de colunas (create/rename/delete) com {columnId, action, timestamp, columns_version}; checklist ampliado para CRUD de colunas.

AdiÃ§Ãµes validadas em 2025-08-19 17:36
- Reorder com sort sequencial (10/20/30) aplicado corretamente apÃ³s mover cards.
- Rollback em falha de persistÃªncia mantido (UI revertida + toast informativo; sem telemetria em erro).
- Topbar com validaÃ§Ã£o mÃ­nima em prompts (â‰¥2 chars) e badge â€œfiltro aplicadoâ€ funcionando.


Fluxos obrigatÃ³rios
1) Login (Basic e Enterprise)
   - Preencher email/senha vÃ¡lidos
   - Enviar
   - POST /api/auth/sync deve responder 204
   - Redirecionar para /app e renderizar hub
   - GET /api/capabilities na mesma aba: 200 com tenant/plan/role/limits/features

2) VerificaÃ§Ã£o de redirects
   - Acessar /app diretamente (autenticado): renderiza hub
   - Acessar /app (anÃ´nimo): bloqueio/middleware conforme polÃ­tica (401/redirect)
   - NÃ£o existir redirect /app â†’ /

3) Console limpo (ambiente anÃ´nimo)
   - Abrir janela anÃ´nima sem extensÃµes
   - Navegar: login â†’ /app
   - Console sem erros crÃ­ticos do app (ruÃ­dos de extensÃµes/DevTools nÃ£o se aplicam aqui)

4) Build estÃ¡vel
   - npm run build sem avisos de lockfiles duplicados
   - Lint sem warnings crÃ­ticos bloqueantes

EvidÃªncias esperadas
- Screenshot /app autenticado
- JSON de /api/capabilities (200)
- Log do build salvo em Estrutura/ (ex.: build_YYYY-MM-DD.log)

## SHELL â€” App Shell (/app) pÃ³s-login
[SHELL01] Menu colapsÃ¡vel com persistÃªncia (pg.nav.collapsed) â€” PASS (2025-08-20 17:02)
[SHELL02] CabeÃ§alho padrÃ£o (logo, user menu, badge ambiente) â€” PASS (2025-08-20 17:02)  
[SHELL03] Breadcrumb/Voltar funcional â€” PASS (2025-08-20 17:02)
[SHELL04] Estados de loading/empty/error presentes â€” PASS (2025-08-20 17:02)
[SHELL05] A11y mÃ­nima (teclado, foco, aria) â€” PASS (2025-08-20 17:02)
[SHELL06] Sem scroll indevido; sem CTAs duplicados â€” PASS (2025-08-20 17:02)

## REFINAMENTO V2 â€” CabeÃ§alho, Sidebar, Dashboard (mock)
[HEADER01] Branding "OrganizaÃ§Ã£o10x" (logo/tÃ­tulo), user menu, badge ambiente, toggle de tema â€” EM VALIDAÃ‡ÃƒO
[HEADER02] A11y/UX do cabeÃ§alho (aria-*, foco, navegaÃ§Ã£o por teclado; sem scroll indevido) â€” EM VALIDAÃ‡ÃƒO
[SIDEBAR01] Sidebar moderna (Ã­cones, tooltips, grupos, active/hover claros) â€” EM VALIDAÃ‡ÃƒO
[SIDEBAR02] Colapso com persistÃªncia (pg.nav.collapsed) e acessibilidade â€” EM VALIDAÃ‡ÃƒO
[SIDEBAR03] MicrointeraÃ§Ãµes suaves (sem jitter; 60fps) â€” EM VALIDAÃ‡ÃƒO
[DASH-MOCK01] KPIs/GrÃ¡ficos com mock data (skeleton â†’ valores; empty/error) â€” EM VALIDAÃ‡ÃƒO
[DASH-MOCK02] Filtros visuais (range 7/30d; trainer) atuando sobre mock â€” EM VALIDAÃ‡ÃƒO

## SHELL â€” NavegaÃ§Ã£o e Breadcrumb (Novo bloco)
[SHELL-NAV01] Dashboard como landing e 1Âº item do menu â€” PASS
[SHELL-NAV02] Ordem e grupos do menu conforme especificaÃ§Ã£o â€” PASS
[SHELL-NAV03] Sidebar premium (estados/tooltip/microinteraÃ§Ãµes/A11y) â€” PASS
[SHELL-NAV04] Breadcrumb padrÃ£o â€œDashboard â€º {SeÃ§Ã£o}â€ â€” PASS

## ACC â€” Cadastro de Conta & Guardas de Menu
[ACC01] Wizard (Personal | Player): PASS â€” evid.: Estrutura/account/wizard_choice.json
[ACC02] Personal: PASS â€” evid.: Estrutura/account/personal_upsert.json
[ACC03] Player: PASS â€” evid.: Estrutura/account/player_org_created.json (hotfix em 21/08: service-role + payload mÃ­nimo; evid.: Estrutura/account/player_org_created_fix.json)
[ACC04] Guardas: PASS â€” evid.: Estrutura/account/menu_guard_state.json
[ACC02] Personal: upsert de profiles (full_name min 2) + toast + volta ao /app â€” EM ANDAMENTO
[ACC03] Player: cria organization + membership(admin) + ativa organization_id + toast â€” EM ANDAMENTO
[ACC04] Guardas: sem org -> itens do menu desabilitados + CTA â€œCriar organizaÃ§Ã£oâ€; com org -> habilita por role â€” EM ANDAMENTO
[ACC05] UX/A11y: validaÃ§Ã£o inline, DrawerDescription + aria-describedby, foco/teclado; zero scroll indevido â€” EM ANDAMENTO
[ACC06] Telemetria: account.created(type) e membership.created(org_id,role,source,ts) â€” AGUARDANDO base estÃ¡vel

Notas de governanÃ§a
- Todo novo Dialog deve incluir DrawerDescription + aria-describedby
- Qualquer mudanÃ§a em next.config.ts que afete redirects deve ser validada por este checklist antes do release

[QA01] Fluxo QA (PRs qa-suggested sem merge direto) â€” ATIVO
[QA02] Triagem por severidade (SEV-1 bloqueia; SEV-2/3 sob triagem) â€” ATIVO

## STUDENTS â€” Alunos V2
[STU01] PASS â€” evid.: web/Estrutura/students/*
[STU02] Criar aluno (validaÃ§Ã£o inline, toasts) â€” AGUARDANDO
[STU03] Editar aluno â€” AGUARDANDO
[STU04] RBAC/guards (alunos) â€” EM ANDAMENTO (leitura)
[STU05] UX/A11y premium â€” EM ANDAMENTO
[STU06] Telemetria (created/updated/assigned_trainer, 2xx only) â€” AGUARDANDO

## USER â€” Perfil
[USER01] Ver perfil â€” EM VALIDAÃ‡ÃƒO â€” evid.: Estrutura/profile/view.json
[USER02] Editar nome â€” EM VALIDAÃ‡ÃƒO â€” evid.: Estrutura/profile/edit_success.json
[USER03] SeguranÃ§a (link trocar senha) â€” EM VALIDAÃ‡ÃƒO
[USER04] UX/A11y â€” EM VALIDAÃ‡ÃƒO
[USER05] Telemetria â€” AGUARDANDO

[v0.1.0][2025-08-27] PÃºblico/Signup: PASS. Funcionando perfeitamente.
[v0.1.0][2025-08-27] Onboarding/Kanban: PASS. Board funcionando, cards sendo criados.
[v0.1.0][2025-08-27] Hard Delete: PASS. ON DELETE CASCADE funcionando perfeitamente.
[v0.1.0][2025-08-27] Editar Colunas: PASS. Modal funcionando, colunas fixas protegidas.

[v0.2.0][2025-08-27] LOG-CARD-ACTIONS â€” PASS âœ…
[v0.2.0][2025-08-27] TASKS-INSTANTIATE â€” PASS âœ…
[v0.2.0][2025-08-27] ADVANCE-CONFIRM-MODAL â€” PASS âœ…
[v0.2.0][2025-08-27] FINISH-TO-HISTORY â€” PASS âœ…
[v0.2.0][2025-08-27] CARD-MODAL-EDITOR â€” PASS âœ…

## Checklist de ValidaÃ§Ã£o da Release v0.2.0

### âœ… Funcionalidades v0.1.0 (PASS)
- [x] Signup e Login funcionando
- [x] Kanban board ativo e funcional
- [x] Hard delete de alunos com cascade
- [x] EdiÃ§Ã£o de colunas (nome e posiÃ§Ã£o)

### âœ… Funcionalidades v0.2.0 (COMPLETED - QA FINAL PASS)
- [x] **LOG-CARD-ACTIONS** - Logs de atividades dos cards âœ… PASS
- [x] **TASKS-INSTANTIATE** - Tarefas obrigatÃ³rias instanciadas automaticamente âœ… PASS
- [x] **CARD-MODAL-EDITOR** - Modal premium para ediÃ§Ã£o de cards âœ… PASS
- [x] **ADVANCE-CONFIRM-MODAL** - Modal de confirmaÃ§Ã£o para avanÃ§ar etapa âœ… PASS
- [x] **FINISH-TO-HISTORY** - Modal de confirmaÃ§Ã£o para encerrar onboarding âœ… PASS

### ğŸ¯ QA FINAL EXECUTADO: 11/11 PASS âœ…
**Status: PRONTO PARA PRODUÃ‡ÃƒO**

### ğŸ“‹ Detalhes das Funcionalidades v0.2.0

#### âœ… LOG-CARD-ACTIONS (PASS - QA FINAL)
- Endpoint: `GET /api/kanban/logs/:card_id` âœ…
- Componente: `KanbanLogDrawer` âœ…
- Logs de criaÃ§Ã£o, movimentaÃ§Ã£o, ediÃ§Ã£o e tarefas âœ…
- Timeline organizada com horÃ¡rio e usuÃ¡rio âœ…

#### âœ… TASKS-INSTANTIATE (PASS - QA FINAL)
- Endpoint: `POST /api/kanban/items/:cardId/tasks/:taskId/toggle` âœ…
- Componente: `KanbanChecklist` âœ…
- Tarefas obrigatÃ³rias criadas automaticamente para novos cards âœ…
- Progresso atualiza em tempo real sem flicker âœ…

#### âœ… CARD-MODAL-EDITOR (PASS - QA FINAL)
- Modal central (720-864px) com abas âœ…
- Abas: VisÃ£o Geral, Checklist, ComentÃ¡rios, Anexos âœ…
- Hotkeys: E (Checklist), L (Log), Esc (Fechar) âœ…
- BotÃ£o lÃ¡pis (âœï¸) no card compacto âœ…
- Cards sem scroll horizontal ou editor embutido âœ…

#### âœ… ADVANCE-CONFIRM-MODAL (PASS - QA FINAL)
- Modal de confirmaÃ§Ã£o para avanÃ§ar etapa âœ…
- VisÃ­vel apenas com 100% obrigatÃ³rias concluÃ­das âœ…
- IntegraÃ§Ã£o com endpoint POST /api/kanban/move âœ…
- Busca automÃ¡tica da prÃ³xima coluna disponÃ­vel âœ…
- Pula colunas fixas (posiÃ§Ã£o 1 e 99) automaticamente âœ…

#### âœ… FINISH-TO-HISTORY (PASS - QA FINAL)
- Modal de confirmaÃ§Ã£o para encerrar onboarding âœ…
- VisÃ­vel apenas na coluna 99 (Entrega do Treino) âœ…
- Endpoint POST /api/kanban/complete âœ…
- Verifica 100% tarefas obrigatÃ³rias concluÃ­das âœ…
- Marca card como completed e envia para histÃ³rico âœ…

---

## ğŸš€ Checklist de ValidaÃ§Ã£o da Release v0.3.0-dev

### ğŸ“‹ P0 â€” Funcionalidades Essenciais (SERVIÃ‡OS ONBOARDING)
- [x] **P0-01: CRUD de colunas intermediÃ¡rias (2..98)** no mÃ³dulo ServiÃ§os âœ…
- [x] **P0-02: CRUD de tarefas por coluna** (catÃ¡logo) âœ…
- [x] **P0-03: InstanciaÃ§Ã£o automÃ¡tica** em cards, idempotente âœ…
- [x] **P0-04: OpÃ§Ã£o "Aplicar aos cards existentes"** ao alterar catÃ¡logo âœ…

### ğŸ”§ P1 â€” ConfiguraÃ§Ãµes
- [x] **P1-01: Equipe** - Menu habilitado para todos os planos (Basic = apenas admin) âœ…
- [x] **P1-02: ConfiguraÃ§Ãµes** - Menu em todos os planos, respeitando limitaÃ§Ãµes âœ…

### ğŸ¨ P2 â€” Polimento Premium
- [x] **P2-01: UI refinada** nos cards (Ã­cones, tooltips, estados) âœ…
- [x] **P2-02: Placeholders** de comentÃ¡rios/anexos no modal âœ…
- [x] **P2-03: Logs visuais** e mÃ©tricas bÃ¡sicas no histÃ³rico âœ…

### ğŸ“Š Status Geral v0.3.0-dev
**Progresso:** 9/9 funcionalidades implementadas  
**Status:** COMPLETO âœ…  
**PrÃ³xima etapa:** QA Final e Deploy v0.3.0

---

## ğŸ”§ Fix Imediato - BotÃ£o "AvanÃ§ar etapa" Reativo

### ğŸ“‹ Smoke Test (5/5 PASS)
- [x] **1. Card com 2 obrigatÃ³rias + 1 opcional** - Marcar as 2 obrigatÃ³rias â†’ botÃ£o habilita imediatamente âœ…
- [x] **2. Card com 0 tarefas** - Abrir modal â†’ botÃ£o jÃ¡ habilitado âœ…
- [x] **3. Desmarcar uma obrigatÃ³ria** - BotÃ£o desabilita no ato (regressÃ£o tratada) âœ…
- [x] **4. Mover card para prÃ³xima coluna** - Continua funcionando; sem regressÃ£o âœ…
- [x] **5. Console limpo** - Sem warnings ou erros âœ…

### ğŸ¯ ImplementaÃ§Ã£o
- [x] **Estado derivado** do checklist vivo âœ…
- [x] **Optimistic update** com invalidaÃ§Ã£o âœ…
- [x] **Reatividade instantÃ¢nea** sem reload âœ…
- [x] **Edge cases tratados** (0 tarefas, opcionais, erros) âœ…

**Status:** FIX CONCLUÃDO âœ…  
**Commit:** `fix(kanban): enable advance button on live checklist changes`

---

## ğŸš€ Checklist de ValidaÃ§Ã£o da Release v0.3.1-dev

### ğŸ¯ P1 â€” MÃ³dulo ServiÃ§os â†’ Onboarding (ReformulaÃ§Ã£o)
- [x] **P1-01: Layout Accordion ExpansÃ­vel** - Colunas como cards expansÃ­veis âœ…
- [ ] **P1-02: CRUD Inline de Tarefas** - Criar, editar, excluir sem modais
- [ ] **P1-03: Feedback Premium** - Badges, barras de progresso, toasts
- [ ] **P1-04: SincronizaÃ§Ã£o Tempo Real** - CatÃ¡logo e cards atualizados

### ğŸ¯ P2 â€” Cards do Kanban Premium
- [ ] **P2-01: Cards Simplificados** - Remover labels redundantes
- [ ] **P2-02: Badge de Tarefas Discreto** - Ãcone âœ… + contador 0/0
- [ ] **P2-03: UX Clean** - Sem scroll, informaÃ§Ãµes essenciais
- [ ] **P2-04: ConsistÃªncia Visual** - Mesmo design em todas as colunas

### ğŸ¯ P3 â€” MÃ³dulo Equipe (P1)
- [x] **P3-01: CRUD Perfis Profissionais** - Criar, editar, excluir perfis âœ…
- [x] **P3-02: CRUD Profissionais** - Criar, editar, excluir profissionais âœ…
- [x] **P3-03: IntegraÃ§Ã£o com UsuÃ¡rios** - VÃ­nculo automÃ¡tico e criaÃ§Ã£o âœ…
- [x] **P3-04: Regras de Plano** - Modal de upgrade para Basic âœ…
- [x] **P3-05: ValidaÃ§Ãµes Robustas** - CPF, WhatsApp, Email âœ…
- [x] **P3-06: Interface Premium** - Modais, toasts, loading states âœ…
- [x] **P3-07: Banco de Dados** - MigraÃ§Ã£o aplicada, IDs sequenciais âœ…
- [x] **P3-08: Seed e Backfill** - Admin por tenant + donos vinculados âœ…
- [x] **P3-09: RBAC e Middleware** - Acesso configurado corretamente âœ…
- [x] **P3-10: IntegraÃ§Ã£o Alunos** - student_responsibles implementado âœ…

### ğŸ“Š Status Geral v0.3.1-dev
**Progresso:** 8/14 funcionalidades implementadas  
**Status:** EM DESENVOLVIMENTO  
**PrÃ³xima entrega:** P1-02 (CRUD Inline de Tarefas) + ValidaÃ§Ã£o Equipe pelo Patrocinador

---

## ğŸš€ Checklist GATE 10.15 â€“ Header Compacto Global (DEV)

### âœ… Header Compacto Implementado
- [x] **Removido "Voltar" textual** com setinha âœ…
- [x] **BotÃ£o "Cancelar" destrutivo** (outline vermelho) âœ…
- [x] **AÃ§Ãµes concentradas Ã  direita** (Salvar + Cancelar) âœ…
- [x] **Altura reduzida 50%** (py-2 desktop, py-1 md) âœ…

### âœ… CompactaÃ§Ã£o de TÃ­tulo
- [x] **Breadcrumb mantido** (Dashboard / Alunos / Editar) âœ…
- [x] **Nome + Status em linha Ãºnica** âœ…
- [x] **Removida duplicidade** "Editar Aluno â€” Nome â€” Email" âœ…
- [x] **Sem repetiÃ§Ã£o** do nome em outras faixas âœ…

### âœ… Componente ReutilizÃ¡vel
- [x] **CompactHeader criado** (/components/ui/CompactHeader.tsx) âœ…
- [x] **Props tipadas** com TypeScript âœ…
- [x] **Suporte a breadcrumb, tÃ­tulo, status, aÃ§Ãµes** âœ…
- [x] **Estados de loading e debug info** âœ…

### âœ… Ganho de Ãrea Ãštil
- [x] **Sem scroll horizontal** âœ…
- [x] **Campos visÃ­veis sem cortar** âœ…
- [x] **Tabs imediatamente apÃ³s header** âœ…
- [x] **Layout responsivo** (aÃ§Ãµes empilham em mobile) âœ…

### âœ… Funcionalidades
- [x] **Cancelar preserva returnTo** âœ…
- [x] **Estados loading/disabled** funcionais âœ…
- [x] **Atalhos de teclado** (Ctrl+S, Esc) âœ…
- [x] **Acessibilidade AA** (contraste, foco) âœ…

---

## ğŸš€ Checklist GATE 9.1 â€“ ConsistÃªncia Students (DEV)

### âœ… Environment Setup
- [x] **ProduÃ§Ã£o congelada** (login bloqueado 503) âœ…
- [x] **Badge DEV ativo** âœ…
- [x] **DEV Environment** configurado com `.env.development.local` âœ…
- [x] **DEBUG Mode** `NEXT_PUBLIC_DEBUG=true` ativo âœ…

### âœ… Backend Consistency
- [x] **List e item Ãºnico aplicam mesmos filtros** (tenant_id + deleted_at IS NULL se flag=true) âœ…
- [x] **Headers Cache-Control no-store e X-Debug-* ativos** âœ…
- [x] **Endpoints DEV-only habilitados** com NEXT_PUBLIC_DEBUG=true âœ…
- [x] **Feature flag STUDENTS_USE_SOFT_DELETE** implementada âœ…

### âœ… Frontend Cache Disabled
- [x] **Front-end sem cache para Students** (lista e item Ãºnico) âœ…
- [x] **EdiÃ§Ã£o sempre faz fetch fresh** âœ…
- [x] **Status (lista vs ediÃ§Ã£o) usa funÃ§Ã£o Ãºnica derivada** âœ…

### âœ… Debug Features (DEV Only)
- [x] **Identificadores (id â€¢ tenant) visÃ­veis nos cards e ediÃ§Ã£o** âœ…
- [x] **Endpoints debug** `/api/_debug/session`, `/api/_debug/students/:id/raw` âœ…
- [x] **Sentinela** `/api/_health/students-consistency` executada sem divergÃªncia âœ…

### âœ… QA Execution
- [x] **TestSprite: login redireciona corretamente** âœ…
- [x] **TestSprite: cenÃ¡rios 200/404/403 ok** âœ…
- [x] **TestSprite: consistÃªncia A/B e multi-navegador validados** âœ…
- [x] **Atividades.txt atualizado com timestamp + hash** âœ…
- [x] **Report.md atualizado com evidÃªncias** âœ…

### ğŸ“Š Status GATE 9.1
**Progresso:** 15/15 itens implementados  
**Status:** âœ… CONCLUÃDO  
**PrÃ³ximo:** ImplementaÃ§Ã£o estrutura ediÃ§Ã£o (tabs Anexos + Processos)