{
  "steps": [
    {
      "id": 1,
      "status": 200,
      "body": {
        "tenantId": "f203156c-ed09-42d1-9593-86f4b2ee0c81",
        "plan": "basic",
        "role": "admin",
        "limits": {
          "students": 300,
          "trainers": 1
        },
        "features": {
          "onboarding": {
            "kanban": true
          },
          "payments": {
            "manual": true
          },
          "reports": {
            "advanced": false
          }
        }
      }
    },
    {
      "id": 2,
      "status": 200,
      "body": {
        "tenantId": "0f3ec75c-6eb9-4443-8c48-49eca6e6d00f",
        "plan": "enterprise",
        "role": "manager",
        "limits": {
          "students": 2000,
          "trainers": 10
        },
        "features": {
          "onboarding": {
            "kanban": true
          },
          "payments": {
            "manual": true
          },
          "reports": {
            "advanced": false
          }
        }
      }
    },
    {
      "id": 3,
      "status": 401,
      "body": {
        "error": "NÃ£o autenticado"
      }
    },
    {
      "id": 4,
      "status": 200,
      "body": {
        "ok": true
      }
    },
    {
      "id": 5,
      "status": 422,
      "body": {
        "error": "limit_reached",
        "details": {
          "limit": "trainers",
          "value": 1,
          "max": 1
        }
      }
    },
    {
      "id": 601,
      "status": 200,
      "body": {
        "ok": true
      }
    },
    {
      "id": 602,
      "status": 200,
      "body": {
        "ok": true
      }
    },
    {
      "id": 603,
      "status": 200,
      "body": {
        "ok": true
      }
    },
    {
      "id": 604,
      "status": 200,
      "body": {
        "ok": true
      }
    },
    {
      "id": 605,
      "status": 200,
      "body": {
        "ok": true
      }
    },
    {
      "id": 606,
      "status": 200,
      "body": {
        "ok": true
      }
    },
    {
      "id": 607,
      "status": 200,
      "body": {
        "ok": true
      }
    },
    {
      "id": 608,
      "status": 200,
      "body": {
        "ok": true
      }
    },
    {
      "id": 609,
      "status": 200,
      "body": {
        "ok": true
      }
    },
    {
      "id": 610,
      "status": 200,
      "body": {
        "ok": true
      }
    },
    {
      "id": 7,
      "status": 422,
      "body": {
        "error": "limit_reached",
        "details": {
          "limit": "trainers",
          "value": 10,
          "max": 10
        }
      }
    },
    {
      "id": 8,
      "status": 403,
      "body": {
        "error": "forbidden"
      }
    },
    {
      "id": 9,
      "status": 403,
      "body": {
        "error": "forbidden"
      }
    }
  ],
  "events": {
    "f203156c-ed09-42d1-9593-86f4b2ee0c81": [
      {
        "tenant_id": "f203156c-ed09-42d1-9593-86f4b2ee0c81",
        "user_id": "1a7a334a-4e0e-4db7-b3b6-0142b5710d1d",
        "event_type": "rbac.denied",
        "payload": {
          "action": "users.create_trainer"
        },
        "created_at": "2025-08-16T21:36:21.981146+00:00"
      },
      {
        "tenant_id": "f203156c-ed09-42d1-9593-86f4b2ee0c81",
        "user_id": "180a08f7-b414-4d8e-8e06-3242cafba1b5",
        "event_type": "limit.hit",
        "payload": {
          "max": 1,
          "limit": "trainers",
          "value": 1
        },
        "created_at": "2025-08-16T21:36:18.232858+00:00"
      },
      {
        "tenant_id": "f203156c-ed09-42d1-9593-86f4b2ee0c81",
        "user_id": "180a08f7-b414-4d8e-8e06-3242cafba1b5",
        "event_type": "feature.used",
        "payload": {
          "email": "novo.trainer.basic@qa.local",
          "feature": "users.create_trainer"
        },
        "created_at": "2025-08-16T21:36:17.946712+00:00"
      },
      {
        "tenant_id": "f203156c-ed09-42d1-9593-86f4b2ee0c81",
        "user_id": "1a7a334a-4e0e-4db7-b3b6-0142b5710d1d",
        "event_type": "rbac.denied",
        "payload": {
          "action": "users.create_trainer"
        },
        "created_at": "2025-08-16T21:28:51.437546+00:00"
      }
    ],
    "0f3ec75c-6eb9-4443-8c48-49eca6e6d00f": [
      {
        "tenant_id": "0f3ec75c-6eb9-4443-8c48-49eca6e6d00f",
        "user_id": "44eaea48-bd86-4c0b-ba5c-1ed1056ad8ac",
        "event_type": "rbac.denied",
        "payload": {
          "action": "users.create_trainer"
        },
        "created_at": "2025-08-16T21:36:22.169062+00:00"
      },
      {
        "tenant_id": "0f3ec75c-6eb9-4443-8c48-49eca6e6d00f",
        "user_id": "27982ec8-37d3-4e3f-8351-91b92239a271",
        "event_type": "limit.hit",
        "payload": {
          "max": 10,
          "limit": "trainers",
          "value": 10
        },
        "created_at": "2025-08-16T21:36:21.79055+00:00"
      },
      {
        "tenant_id": "0f3ec75c-6eb9-4443-8c48-49eca6e6d00f",
        "user_id": "27982ec8-37d3-4e3f-8351-91b92239a271",
        "event_type": "feature.used",
        "payload": {
          "email": "trainer10.ent@qa.local",
          "feature": "users.create_trainer"
        },
        "created_at": "2025-08-16T21:36:21.567256+00:00"
      },
      {
        "tenant_id": "0f3ec75c-6eb9-4443-8c48-49eca6e6d00f",
        "user_id": "27982ec8-37d3-4e3f-8351-91b92239a271",
        "event_type": "feature.used",
        "payload": {
          "email": "trainer09.ent@qa.local",
          "feature": "users.create_trainer"
        },
        "created_at": "2025-08-16T21:36:21.258563+00:00"
      },
      {
        "tenant_id": "0f3ec75c-6eb9-4443-8c48-49eca6e6d00f",
        "user_id": "27982ec8-37d3-4e3f-8351-91b92239a271",
        "event_type": "feature.used",
        "payload": {
          "email": "trainer08.ent@qa.local",
          "feature": "users.create_trainer"
        },
        "created_at": "2025-08-16T21:36:20.908163+00:00"
      },
      {
        "tenant_id": "0f3ec75c-6eb9-4443-8c48-49eca6e6d00f",
        "user_id": "27982ec8-37d3-4e3f-8351-91b92239a271",
        "event_type": "feature.used",
        "payload": {
          "email": "trainer07.ent@qa.local",
          "feature": "users.create_trainer"
        },
        "created_at": "2025-08-16T21:36:20.592982+00:00"
      },
      {
        "tenant_id": "0f3ec75c-6eb9-4443-8c48-49eca6e6d00f",
        "user_id": "27982ec8-37d3-4e3f-8351-91b92239a271",
        "event_type": "feature.used",
        "payload": {
          "email": "trainer06.ent@qa.local",
          "feature": "users.create_trainer"
        },
        "created_at": "2025-08-16T21:36:20.310404+00:00"
      },
      {
        "tenant_id": "0f3ec75c-6eb9-4443-8c48-49eca6e6d00f",
        "user_id": "27982ec8-37d3-4e3f-8351-91b92239a271",
        "event_type": "feature.used",
        "payload": {
          "email": "trainer05.ent@qa.local",
          "feature": "users.create_trainer"
        },
        "created_at": "2025-08-16T21:36:19.953727+00:00"
      },
      {
        "tenant_id": "0f3ec75c-6eb9-4443-8c48-49eca6e6d00f",
        "user_id": "27982ec8-37d3-4e3f-8351-91b92239a271",
        "event_type": "feature.used",
        "payload": {
          "email": "trainer04.ent@qa.local",
          "feature": "users.create_trainer"
        },
        "created_at": "2025-08-16T21:36:19.650353+00:00"
      },
      {
        "tenant_id": "0f3ec75c-6eb9-4443-8c48-49eca6e6d00f",
        "user_id": "27982ec8-37d3-4e3f-8351-91b92239a271",
        "event_type": "feature.used",
        "payload": {
          "email": "trainer03.ent@qa.local",
          "feature": "users.create_trainer"
        },
        "created_at": "2025-08-16T21:36:19.302427+00:00"
      },
      {
        "tenant_id": "0f3ec75c-6eb9-4443-8c48-49eca6e6d00f",
        "user_id": "27982ec8-37d3-4e3f-8351-91b92239a271",
        "event_type": "feature.used",
        "payload": {
          "email": "trainer02.ent@qa.local",
          "feature": "users.create_trainer"
        },
        "created_at": "2025-08-16T21:36:18.973002+00:00"
      },
      {
        "tenant_id": "0f3ec75c-6eb9-4443-8c48-49eca6e6d00f",
        "user_id": "27982ec8-37d3-4e3f-8351-91b92239a271",
        "event_type": "feature.used",
        "payload": {
          "email": "trainer01.ent@qa.local",
          "feature": "users.create_trainer"
        },
        "created_at": "2025-08-16T21:36:18.631612+00:00"
      },
      {
        "tenant_id": "0f3ec75c-6eb9-4443-8c48-49eca6e6d00f",
        "user_id": "44eaea48-bd86-4c0b-ba5c-1ed1056ad8ac",
        "event_type": "rbac.denied",
        "payload": {
          "action": "users.create_trainer"
        },
        "created_at": "2025-08-16T21:28:51.60886+00:00"
      }
    ]
  }
}